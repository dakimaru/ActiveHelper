<% provide(:title, "New Project") %> 
<h1>Create a Project</h1>

<div class="row">
  <div class="span6 offset3">
  
	<%= form_for @project, :html => { :multipart => true }  do |f| %>
	    <%= render 'shared/error_messages', object: f.object %>

	    <%= f.label 'Project Name' %>
	    <%= f.text_field :name %>

			<%= f.label "In short (400 characters or less)" %>
			Characters left: <span id="char-count">400</span>
	    <%= f.text_area :in_short, :maxlength => 400, :rows => 8 %>
	
			<div class="well form-inline"><p>Project Picture</p>
			<%= f.file_field :avatar %>
			</div>

			<div class="form-actions">
	      <%= f.submit "Save", class: "btn btn-large btn-primary" %>
				<%= link_to "Cancel", organizations_path, class: "btn btn-large"%>
			</div>

	  <% end %>

  </div>
</div>					

<script type="text/javascript">	
var maxLen = 400;
$(function() { setCharCount($('#project_in_short'));	}); 
$('#project_in_short').live('keyup keydown', function(e) { setCharCount($(this));	});	 
function setCharCount(object) {	 var left = maxLen - object.val().length;	 $('#char-count').html(left);	}
</script>